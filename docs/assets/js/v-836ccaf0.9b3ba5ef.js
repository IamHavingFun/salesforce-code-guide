(self.webpackChunksalesforce_code_guide=self.webpackChunksalesforce_code_guide||[]).push([[105],{799:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>e});const e={key:"v-836ccaf0",path:"/code-style/apex/",title:"Apex Code Style Guide",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Prefer readable variable names",slug:"prefer-readable-variable-names",children:[]},{level:2,title:"Prefer readable method names",slug:"prefer-readable-method-names",children:[]},{level:2,title:"Prefer literals for immutable or local values",slug:"prefer-literals-for-immutable-or-local-values",children:[]},{level:2,title:"Prefer early returns over nested blocks",slug:"prefer-early-returns-over-nested-blocks",children:[]},{level:2,title:"Prefer methods without unexpected side effects",slug:"prefer-methods-without-unexpected-side-effects",children:[]},{level:2,title:"Prefer complete assertions in unit tests",slug:"prefer-complete-assertions-in-unit-tests",children:[]},{level:2,title:"Prefer comments which explain decisions",slug:"prefer-comments-which-explain-decisions",children:[]},{level:2,title:"Prefer methods with few parameters",slug:"prefer-methods-with-few-parameters",children:[]}],filePathRelative:"code-style/apex/README.md",git:{updatedTime:1616777843e3,contributors:[{name:"Georg Wittberger",email:"georg.wittberger@gmail.com",commits:2}]}}},649:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});const e=(0,a(252).uE)('<h1 id="apex-code-style-guide"><a class="header-anchor" href="#apex-code-style-guide">#</a> Apex Code Style Guide</h1><p>This document explains some code style guidelines to make Apex code more readable and easier to understand.</p><h2 id="prefer-readable-variable-names"><a class="header-anchor" href="#prefer-readable-variable-names">#</a> Prefer readable variable names</h2><blockquote><p>Readable variable names make it easier to understand which data the variable refers to.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token class-name">Contact</span> c <span class="token operator">=</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> FirstName<span class="token punctuation">,</span> LastName <span class="token keyword">FROM</span> Contact <span class="token keyword">WHERE</span> Id <span class="token operator">=</span> :contactId<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n<span class="token keyword">String</span> fn <span class="token operator">=</span> c<span class="token punctuation">.</span>FirstName<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token class-name">Contact</span> theContact <span class="token operator">=</span> <span class="token sql language-sql"><span class="token punctuation">[</span>\n  <span class="token keyword">SELECT</span> FirstName<span class="token punctuation">,</span> LastName <span class="token keyword">FROM</span> Contact <span class="token keyword">WHERE</span> Id <span class="token operator">=</span> :contactId\n<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n<span class="token keyword">String</span> firstName <span class="token operator">=</span> theContact<span class="token punctuation">.</span>FirstName<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><p>Variables with just a few letters make it hard for other developers to figure out what the code does, especially which data is involved.</p><p>It is recommended to use readable, semantic names for variables. This way it is much easier to understand which data is processed by the code.</p><p>Be careful with variable names matching SObject names or other types. It can lead to weird errors.</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token class-name">Id</span> id <span class="token operator">=</span> theContact<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>\n<span class="token class-name">Id</span> otherId <span class="token operator">=</span> Id<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Error because type Id is shadowed by variable</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="prefer-readable-method-names"><a class="header-anchor" href="#prefer-readable-method-names">#</a> Prefer readable method names</h2><blockquote><p>Readable method names make it easier to understand the purpose and side effects of the methods.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span><span class="token keyword">String</span><span class="token punctuation">&gt;</span></span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id<span class="token punctuation">,</span> Name <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">IN</span> :names<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProcessor</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">,</span> <span class="token keyword">Integer</span> numberOfEmployees<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Account</span> account <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      account<span class="token punctuation">.</span>NumberOfEmployees <span class="token operator">=</span> numberOfEmployees<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">update</span> accounts<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> <span class="token function">getAccountsByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span><span class="token keyword">String</span><span class="token punctuation">&gt;</span></span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id<span class="token punctuation">,</span> Name <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">IN</span> :names<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProcessor</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateNumberOfEmployees</span><span class="token punctuation">(</span>\n    <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> accounts<span class="token punctuation">,</span> <span class="token keyword">Integer</span> numberOfEmployees\n  <span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Account</span> account <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      account<span class="token punctuation">.</span>NumberOfEmployees <span class="token operator">=</span> numberOfEmployees<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">update</span> accounts<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div><p>Very short method names cannot properly express the purpose or the intended side effects. This makes it hard to understand the effects of higher-level code which invokes such methods.</p><p>It is recommended to use readable method names which express what the encapsulated logic does (not how it does that). This makes higher-level code much more understandable which helps avoid errors caused by misunderstanding.</p><h2 id="prefer-literals-for-immutable-or-local-values"><a class="header-anchor" href="#prefer-literals-for-immutable-or-local-values">#</a> Prefer literals for immutable or local values</h2><blockquote><p>Literal values contribute to more readable code by avoiding interruptions.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PriceFormatter</span> <span class="token punctuation">{</span>\n  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">Double</span> ZERO_PRICE <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">String</span> LINE_BREAK <span class="token operator">=</span> <span class="token string">&#39;\\n&#39;</span><span class="token punctuation">;</span>\n  <span class="token keyword">public</span> <span class="token keyword">String</span> <span class="token function">formatPrice</span><span class="token punctuation">(</span><span class="token keyword">Double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>price <span class="token operator">==</span> ZERO_PRICE<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token string">&#39;The price is&#39;</span> <span class="token operator">+</span> LINE_BREAK <span class="token operator">+</span>\n        <span class="token string">&#39;absolute zero.&#39;</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token string">&#39;The price is:&#39;</span> <span class="token operator">+</span> LINE_BREAK <span class="token operator">+</span>\n      <span class="token keyword">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PriceFormatter</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token keyword">String</span> <span class="token function">formatPrice</span><span class="token punctuation">(</span><span class="token keyword">Double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>price <span class="token operator">==</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token string">&#39;The price is\\n&#39;</span> <span class="token operator">+</span>\n        <span class="token string">&#39;absolute zero.&#39;</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token string">&#39;The price is:\\n&#39;</span> <span class="token operator">+</span> <span class="token keyword">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div><p>Some developers seem to follow dogmatically the rule that all constant values used in the code must be extracted to constants. However, this comes at a price. Extracting constants makes the code harder to read because when developers stumble upon a constant they will very likely jump to its declaration to find out what the real value is. Then they have to navigate back to the position in the code where they came from to continue reading. This is especially painful when constants are introduced for values which are very unlikely to change without altering their meaning, e.g. who would ever change <code>ZERO_PRICE</code> to a value other <code>0.0</code>?</p><p>Performance optimization is also not a convincing argument because Salesforce compiles Apex code to Java byte code before execution. One part of the Java language specification is that constants initialized with static values are inlined, i.e. the occurrences are replaced with the static value. Even if there was a slight difference of some nanoseconds it probably is not worth the price you have to pay in terms of readability.</p><p>It is recommended to use literals in the code if the values can be regarded immutable or scoped to the method. Constants should only be considered for extracting values which are intended to be used across several classes. If the value is likely to change at a later point of time consider extracting a Custom Metadata Type to enable configuration.</p><h2 id="prefer-early-returns-over-nested-blocks"><a class="header-anchor" href="#prefer-early-returns-over-nested-blocks">#</a> Prefer early returns over nested blocks</h2><blockquote><p>Early returns make logic easier to understand by avoiding nested blocks.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span> <span class="token function">getAccountIdsByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span><span class="token keyword">String</span><span class="token punctuation">&gt;</span></span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span> accountIds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>names <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>names<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> accounts <span class="token operator">=</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">IN</span> :names<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>accounts<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Account</span> currentAccount <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          accountIds<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>currentAccount<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> accountIds<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span> <span class="token function">getAccountIdsByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span><span class="token keyword">String</span><span class="token punctuation">&gt;</span></span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span> accountIds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token keyword">Set</span><span class="token punctuation">&lt;</span>Id<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>names <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> names<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> accountIds<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span>Account<span class="token punctuation">&gt;</span></span> accounts <span class="token operator">=</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">IN</span> :names<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>accounts<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> accountIds<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Account</span> currentAccount <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      accountIds<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>currentAccount<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> accountIds<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div><p>Complex logic with several conditions can quickly end up in multiple nested code blocks. This makes it harder for developers to find out what the result of the method execution is. The reason is that fulfilling (or not fulfilling) certain conditions may immediately determine the result but this is not obvious from the code until developers have wrapped their head around all the nested blocks.</p><p>It is recommended to write logic in such a way that conditions determining the result immediately cause the method to return right away. This avoids nested blocks and makes it easier to explorer the logic step by step.</p><p>Also try to avoid <code>else</code> blocks as much as possible using this technique.</p><h2 id="prefer-methods-without-unexpected-side-effects"><a class="header-anchor" href="#prefer-methods-without-unexpected-side-effects">#</a> Prefer methods without unexpected side effects</h2><blockquote><p>Methods without unexpected side effects make it easier to understand how the software works.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">getDefaultAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id<span class="token punctuation">,</span> Name <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">=</span> <span class="token string">&#39;Default&#39;</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token class-name">Account</span> defaultAccount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span>Name <span class="token operator">=</span> <span class="token string">&#39;Default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">insert</span> defaultAccount<span class="token punctuation">;</span>\n      <span class="token keyword">return</span> defaultAccount<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Due to the prefix <code>get</code> in the method name it is unexpected that it performs a DML operation to insert a new Account record.</p></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">getDefaultAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> Id<span class="token punctuation">,</span> Name <span class="token keyword">FROM</span> Account <span class="token keyword">WHERE</span> Name <span class="token operator">=</span> <span class="token string">&#39;Default&#39;</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">createDefaultAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Account</span> defaultAccount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span>Name <span class="token operator">=</span> <span class="token string">&#39;Default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">insert</span> defaultAccount<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> defaultAccount<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">ensureDefaultAccountExists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">getDefaultAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">createDefaultAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>With the method name <code>ensureDefaultAccountExists</code> it is more obvious that a DML operation may be carried out.</p></div><p>Writing resilient code is definitely important. Unfortunately, some developers tend to implement measures for resilience as hidden side effects in methods where other developers do not expect them. This can make it hard to understand why the software behaves in a certain way or even introduce errors because developers were not aware of the side effects of a particular method.</p><p>It is recommended to keep methods clean of side effects which are not suggested by the method name. It makes the code more robust and easier to understand.</p><h2 id="prefer-complete-assertions-in-unit-tests"><a class="header-anchor" href="#prefer-complete-assertions-in-unit-tests">#</a> Prefer complete assertions in unit tests</h2><blockquote><p>Complete assertions help with early bug detection and increase trust in unit tests.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Contact</span> <span class="token function">getContactById</span><span class="token punctuation">(</span><span class="token class-name">Id</span> contactId<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> FirstName<span class="token punctuation">,</span> LastName <span class="token keyword">FROM</span> Contact <span class="token keyword">WHERE</span> Id <span class="token operator">=</span> :contactId<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">class</span> <span class="token class-name">ContactProviderTest</span> <span class="token punctuation">{</span>\n  <span class="token annotation punctuation">@IsTest</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">providesContactForValidId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Contact</span> testContact <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span>FirstName <span class="token operator">=</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> LastName <span class="token operator">=</span> <span class="token string">&#39;Doe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">insert</span> testContact<span class="token punctuation">;</span>\n    <span class="token class-name">ContactProvider</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContactProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">Contact</span> resultContact <span class="token operator">=</span> provider<span class="token punctuation">.</span><span class="token function">getContactById</span><span class="token punctuation">(</span>testContact<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> resultContact<span class="token punctuation">.</span>FirstName<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactProvider</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Contact</span> <span class="token function">getContactById</span><span class="token punctuation">(</span><span class="token class-name">Id</span> contactId<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token sql language-sql"><span class="token punctuation">[</span><span class="token keyword">SELECT</span> FirstName<span class="token punctuation">,</span> LastName <span class="token keyword">FROM</span> Contact <span class="token keyword">WHERE</span> Id <span class="token operator">=</span> :contactId<span class="token punctuation">]</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">class</span> <span class="token class-name">ContactProviderTest</span> <span class="token punctuation">{</span>\n  <span class="token annotation punctuation">@IsTest</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">providesContactForValidId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Contact</span> testContact <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span>FirstName <span class="token operator">=</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> LastName <span class="token operator">=</span> <span class="token string">&#39;Doe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">insert</span> testContact<span class="token punctuation">;</span>\n    <span class="token class-name">ContactProvider</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContactProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">Contact</span> resultContact <span class="token operator">=</span> provider<span class="token punctuation">.</span><span class="token function">getContactById</span><span class="token punctuation">(</span>testContact<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">System</span><span class="token punctuation">.</span><span class="token function">assertNotEquals</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> resultContact<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> resultContact<span class="token punctuation">.</span>FirstName<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&#39;Doe&#39;</span><span class="token punctuation">,</span> resultContact<span class="token punctuation">.</span>LastName<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></div><p>Especially under the pressure of project deadlines developers may feel like saving some time by not writing extensive assertions in their unit tests. However, this is a dangerous path because incomplete assertions undermine the reliability of the unit tests. Tests may not fail when the logic does not behave as expected. This can delay the detection of bugs and developers will lose their trust in unit tests.</p><p>It is recommended to formulate assertions for all the expected behavior of the logic under test. Even if it is a little bit more effort in the beginning it will give you confidence later on because you know you can rely on the tests.</p><h2 id="prefer-comments-which-explain-decisions"><a class="header-anchor" href="#prefer-comments-which-explain-decisions">#</a> Prefer comments which explain decisions</h2><blockquote><p>Comments are useful to add information which is not present in the code itself.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountCleanupJob</span> <span class="token keyword">implements</span> <span class="token class-name">Database<span class="token punctuation">.</span>Batchable<span class="token punctuation">&lt;</span><span class="token keyword">SObject</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Database<span class="token punctuation">.</span>QueryLocator</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// Query all Account records</span>\n    <span class="token keyword">return</span> Database<span class="token punctuation">.</span><span class="token function">getQueryLocator</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT Id, Name FROM Account&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span><span class="token keyword">SObject</span><span class="token punctuation">&gt;</span></span> scope<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finish</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The comment does not convey any information that developers cannot extract from the code anyway.</p></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountCleanupJob</span> <span class="token keyword">implements</span> <span class="token class-name">Database<span class="token punctuation">.</span>Batchable<span class="token punctuation">&lt;</span><span class="token keyword">SObject</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token class-name">Database<span class="token punctuation">.</span>QueryLocator</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// Use QueryLocator because the job must process more than 50,000 records</span>\n    <span class="token keyword">return</span> Database<span class="token punctuation">.</span><span class="token function">getQueryLocator</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT Id, Name FROM Account&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">List</span><span class="token punctuation">&lt;</span><span class="token keyword">SObject</span><span class="token punctuation">&gt;</span></span> scope<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">finish</span><span class="token punctuation">(</span><span class="token class-name">Database<span class="token punctuation">.</span>BatchableContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The comment adds useful information about the problem domain.</p></div><p>Adding comments which only describe <em>what</em> the code does are of little value. The problem is that such comments are prone to become inconsistent when the logic is refactored because developers may not take their time to adjust the comments as well. In the end the comments are more confusing than helpful.</p><p>It is recommended to use comments in the code to add information <em>why</em> the code was implemented this way. Such comments can help developers a lot to understand the thoughts and decisions of the developer who wrote the code.</p><h2 id="prefer-methods-with-few-parameters"><a class="header-anchor" href="#prefer-methods-with-few-parameters">#</a> Prefer methods with few parameters</h2><blockquote><p>Fewer parameters make it easier to capture the meaning of method arguments.</p></blockquote><div class="custom-container danger"><p class="custom-container-title">BAD</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAccountFactory</span> <span class="token punctuation">{</span>\n  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> <span class="token function">createAccount</span><span class="token punctuation">(</span>\n    <span class="token keyword">String</span> name<span class="token punctuation">,</span> <span class="token keyword">Integer</span> numberOfEmployees<span class="token punctuation">,</span> <span class="token keyword">String</span> industry\n  <span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span>\n      Name <span class="token operator">=</span> name<span class="token punctuation">,</span> NumberOfEmployees <span class="token operator">=</span> numberOfEmployees<span class="token punctuation">,</span> Industry <span class="token operator">=</span> industry\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">class</span> <span class="token class-name">AccountProviderTest</span> <span class="token punctuation">{</span>\n  <span class="token annotation punctuation">@IsTest</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">providesAccountsForGivenNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Account</span> testAccount <span class="token operator">=</span> TestAccountFactory<span class="token punctuation">.</span><span class="token function">createAccount</span><span class="token punctuation">(</span>\n      <span class="token string">&#39;Example Company&#39;</span><span class="token punctuation">,</span> <span class="token number">520</span><span class="token punctuation">,</span> <span class="token string">&#39;Automotive&#39;</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// more test code</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>It is difficult to figure out what the arguments mean when the factory method is invoked in the provider test.</p></div><div class="custom-container tip"><p class="custom-container-title">BETTER</p><div class="language-apex ext-apex line-numbers-mode"><pre class="language-apex"><code><span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAccountBuilder</span> <span class="token punctuation">{</span>\n  <span class="token keyword">private</span> <span class="token keyword">String</span> name<span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">Integer</span> numberOfEmployees <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">String</span> industry <span class="token operator">=</span> <span class="token string">&#39;General&#39;</span><span class="token punctuation">;</span>\n  <span class="token keyword">public</span> <span class="token class-name">TestAccountBuilder</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token keyword">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token class-name">TestAccountBuilder</span> <span class="token function">numberOfEmployees</span><span class="token punctuation">(</span><span class="token keyword">Integer</span> numberOfEmployees<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>numberOfEmployees <span class="token operator">=</span> numberOfEmployees<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token class-name">TestAccountBuilder</span> <span class="token function">industry</span><span class="token punctuation">(</span><span class="token keyword">String</span> industry<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>industry <span class="token operator">=</span> industry<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span>\n      Name <span class="token operator">=</span> name<span class="token punctuation">,</span> NumberOfEmployees <span class="token operator">=</span> numberOfEmployees<span class="token punctuation">,</span> Industry <span class="token operator">=</span> industry\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token annotation punctuation">@IsTest</span>\n<span class="token keyword">class</span> <span class="token class-name">AccountProviderTest</span> <span class="token punctuation">{</span>\n  <span class="token annotation punctuation">@IsTest</span>\n  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">providesAccountsForGivenNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Account</span> testAccount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestAccountBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&#39;Example Company&#39;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">numberOfEmployees</span><span class="token punctuation">(</span><span class="token number">520</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">industry</span><span class="token punctuation">(</span><span class="token string">&#39;Automotive&#39;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// more test code</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>Applying the builder pattern makes the provider test code more readable.</p></div><p>Application logic which depends on many external values may end up in a method with lots of parameters. The dependant code invoking the method becomes more confusing the more arguments are passed because from the pure values in the argument list it can be hard to figure out their meaning.</p><p>It is recommended to keep parameter lists as short as possible. Many parameters can also be an indicator that the method does too many different things and should be split into separate methods.</p><p>For logic depending on the composition of multiple external values consider applying the <em>builder pattern</em> to allow setting the values one by one.</p>',55),t={render:function(n,s){return e}}}}]);